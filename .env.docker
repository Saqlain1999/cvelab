# ================================
# CVE Lab Platform - Docker Environment Configuration
# ================================
# This file is used by docker-compose.yml
# Copy this to .env and customize for your environment

# ================================
# Database Configuration
# ================================
DB_USER=cveuser
DB_PASSWORD=cvepass_change_in_production
DB_NAME=cve_lab_db
DB_PORT=5432

# ================================
# Redis Configuration
# ================================
REDIS_PASSWORD=redispass_change_in_production
REDIS_PORT=6379

# ================================
# Application Configuration
# ================================
NODE_ENV=production
PORT=5000

# ================================
# Authentication (REQUIRED)
# ================================
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-please
JWT_EXPIRES_IN=24h

# ================================
# External API Keys (Optional)
# ================================
# GitHub API (for PoC discovery)
# Get at: https://github.com/settings/tokens
GITHUB_TOKEN=

# Google API (for Sheets export)
# Get at: https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=

# VulnCheck API (for KEV data)
# Get at: https://vulncheck.com
VULNCHECK_API_KEY=

# ================================
# Rate Limiting (Optional - defaults provided)
# ================================
RATE_LIMIT_DEFAULT_RPS=2
RL_GITHUB_RPS=10
RL_GITLAB_RPS=10
RL_DOCKERHUB_RPS=5
RL_BING_RPS=1
RL_RSS_RPS=5

# ================================
# Email Configuration (WHM SMTP Server)
# ================================
SMTP_HOST=your-whm-server.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@yourdomain.com
SMTP_SECURE=false

# ================================
# Stripe Configuration (For billing)
# ================================
# Get at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Product price IDs (create in Stripe dashboard)
STRIPE_PRICE_PRO=price_your_pro_price_id
STRIPE_PRICE_PREMIUM=price_your_premium_price_id

# ================================
# Monitoring & Error Tracking (Optional)
# ================================
# Sentry DSN for error tracking
# Get at: https://sentry.io
SENTRY_DSN=

# ================================
# Application URLs
# ================================
# Update these based on your domain
APP_URL=http://localhost:5000
FRONTEND_URL=http://localhost:5000
ALLOWED_ORIGINS=http://localhost:5000,http://localhost:5173

# For production (with domain):
# APP_URL=https://cvelab.yourdomain.com
# FRONTEND_URL=https://cvelab.yourdomain.com
# ALLOWED_ORIGINS=https://cvelab.yourdomain.com

# ================================
# Nginx Configuration (Optional)
# ================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
